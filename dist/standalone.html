<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Driven Employee Evaluation System - POC</title>
    <style>
        /* Bootstrap 5 CSS - Essential styles only */
        * { box-sizing: border-box; }
        body { 
            margin: 0; 
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; 
            line-height: 1.5; 
            background-color: #f8f9fa;
        }
        .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 15px; }
        .row { display: flex; flex-wrap: wrap; margin: 0 -15px; }
        .col-12 { flex: 0 0 100%; max-width: 100%; padding: 0 15px; }
        .card { 
            background: #fff; 
            border: 1px solid #e9ecef; 
            border-radius: 0.5rem; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); 
            margin-bottom: 1rem; 
        }
        .card-header { 
            padding: 1rem; 
            border-bottom: 1px solid #e9ecef; 
            background: #fff; 
            border-radius: 0.5rem 0.5rem 0 0; 
        }
        .card-body { padding: 1rem; }
        .card-title { margin: 0 0 0.5rem 0; font-size: 1.25rem; font-weight: 500; }
        .text-center { text-align: center; }
        .text-muted { color: #6c757d; }
        .text-primary { color: #0d6efd; }
        .text-secondary { color: #6c757d; }
        .btn { 
            display: inline-block; 
            padding: 0.375rem 0.75rem; 
            font-size: 1rem; 
            font-weight: 400; 
            line-height: 1.5; 
            text-align: center; 
            text-decoration: none; 
            border: 1px solid transparent; 
            border-radius: 0.375rem; 
            cursor: pointer; 
            transition: all 0.15s ease-in-out; 
        }
        .btn-primary { 
            color: #fff; 
            background-color: #0d6efd; 
            border-color: #0d6efd; 
        }
        .btn-primary:hover { 
            background-color: #0b5ed7; 
            border-color: #0a58ca; 
        }
        .btn-secondary { 
            color: #fff; 
            background-color: #6c757d; 
            border-color: #6c757d; 
        }
        .btn-secondary:hover { 
            background-color: #5c636a; 
            border-color: #565e64; 
        }
        .btn-lg { 
            padding: 0.5rem 1rem; 
            font-size: 1.25rem; 
            border-radius: 0.5rem; 
        }
        .mb-3 { margin-bottom: 1rem; }
        .mb-4 { margin-bottom: 1.5rem; }
        .me-2 { margin-right: 0.5rem; }
        .mt-3 { margin-top: 1rem; }
        .mt-4 { margin-top: 1.5rem; }
        .p-3 { padding: 1rem; }
        .p-4 { padding: 1.5rem; }
        .p-5 { padding: 3rem; }
        .border-2 { border-width: 2px; }
        .border-dashed { border-style: dashed; }
        .border-secondary { border-color: #6c757d; }
        .rounded { border-radius: 0.375rem; }
        .fa-3x { font-size: 3em; }
        .fa-2x { font-size: 2em; }
        .small { font-size: 0.875em; }
        .table { width: 100%; margin-bottom: 1rem; border-collapse: collapse; }
        .table th, .table td { padding: 0.5rem; border: 1px solid #dee2e6; }
        .table-bordered { border: 1px solid #dee2e6; }
        .table-sm th, .table-sm td { padding: 0.25rem; }
        .modal { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.5); 
            z-index: 1050; 
        }
        .modal.show { display: block; }
        .modal-dialog { 
            position: relative; 
            width: auto; 
            margin: 1.75rem auto; 
            max-width: 800px; 
        }
        .modal-content { 
            background: #fff; 
            border-radius: 0.5rem; 
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15); 
        }
        .modal-header { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 1rem; 
            border-bottom: 1px solid #dee2e6; 
        }
        .modal-body { padding: 1rem; }
        .modal-footer { 
            padding: 1rem; 
            border-top: 1px solid #dee2e6; 
            text-align: right; 
        }
        .btn-close { 
            background: transparent; 
            border: 0; 
            font-size: 1.5rem; 
            cursor: pointer; 
            color: #6c757d;
        }
        .upload-area { 
            border: 2px dashed #6c757d; 
            border-radius: 0.375rem; 
            padding: 3rem; 
            text-align: center; 
        }
        .factor-card { background: #f8f9fa; padding: 1rem; margin-bottom: 1rem; border-radius: 0.375rem; }
        .conclusion-card { background: #e7f3ff; border: 1px solid #b3d9ff; }
        .artifacts-table { background: #fff; }
        .spinner-border { 
            display: inline-block; 
            width: 2rem; 
            height: 2rem; 
            border: 0.25em solid currentColor; 
            border-right-color: transparent; 
            border-radius: 50%; 
            animation: spinner-border 0.75s linear infinite; 
        }
        @keyframes spinner-border { to { transform: rotate(360deg); } }
        .alert { 
            padding: 1rem; 
            margin-bottom: 1rem; 
            border: 1px solid transparent; 
            border-radius: 0.375rem; 
        }
        .alert-success { 
            color: #0f5132; 
            background-color: #d1e7dd; 
            border-color: #badbcc; 
        }
        .alert-info { 
            color: #055160; 
            background-color: #cff4fc; 
            border-color: #b6effb; 
        }
        .hidden { display: none; }
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 1rem; 
        }
        .file-card { 
            border: 1px solid #dee2e6; 
            border-radius: 0.375rem; 
            padding: 1rem; 
            cursor: pointer; 
            transition: all 0.2s; 
            position: relative;
        }
        .file-card:hover { 
            border-color: #0d6efd; 
            background-color: #f8f9fa; 
        }
        .file-card.selected { 
            border-color: #0d6efd; 
            background-color: #e7f3ff; 
        }
        .file-card.selected::after { 
            content: "âœ“"; 
            position: absolute; 
            top: 0.5rem; 
            right: 0.5rem; 
            color: #0d6efd; 
            font-weight: bold; 
            font-size: 1.2em;
        }
        .insight-card { 
            background: #f8f9fa; 
            border-left: 4px solid #0d6efd; 
            padding: 1rem; 
            margin-bottom: 1rem; 
        }
        .insight-source { 
            font-size: 0.875em; 
            color: #6c757d; 
            font-style: italic; 
        }
        .icon { 
            display: inline-block; 
            width: 1em; 
            height: 1em; 
            vertical-align: middle; 
            fill: currentColor; 
        }
        .icon-lg { width: 1.5em; height: 1.5em; }
        .icon-xl { width: 2em; height: 2em; }
        .icon-3x { width: 3em; height: 3em; }
        .border { border: 1px solid #dee2e6; }
        .visually-hidden { 
            position: absolute !important; 
            width: 1px !important; 
            height: 1px !important; 
            padding: 0 !important; 
            margin: -1px !important; 
            overflow: hidden !important; 
            clip: rect(0, 0, 0, 0) !important; 
            white-space: nowrap !important; 
            border: 0 !important; 
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h2 class="card-title mb-3">
                            <svg class="icon icon-lg me-2 text-primary" viewBox="0 0 16 16">
                                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                            </svg>
                            Upload Performance Artifacts
                        </h2>
                        <p class="card-text text-muted">
                            Select performance artifacts to analyze employee competencies using AI
                        </p>
                        <p class="card-text text-muted small">
                            <svg class="icon me-2 text-secondary" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                            </svg>
                            This is just a mock page to show the seamless process of converting evidence into insights.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upload Area -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <div class="upload-area">
                            <svg class="icon icon-3x text-muted mb-3" viewBox="0 0 16 16">
                                <path d="M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V11.5a.5.5 0 0 1-1 0V1.707L5.354 6.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                <path d="M4.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z"/>
                            </svg>
                            <h5 class="mb-3">Select Performance Artifacts</h5>
                            <p class="text-muted mb-3">
                                Click the button below to browse available artifacts
                            </p>
                            <button class="btn btn-primary btn-lg" onclick="showFileModal()">
                                <svg class="icon icon-lg me-2" viewBox="0 0 16 16">
                                    <path d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1H1zm7 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>
                                    <path d="M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V5z"/>
                                </svg>
                                Browse Artifacts
                            </button>
                            <p class="text-muted small mt-3 mb-0">
                                Available formats: PDF, Word, Excel, CSV, JSON
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Selected Files -->
        <div id="selectedFilesSection" class="row mb-4 hidden">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <svg class="icon icon-lg me-2 text-primary" viewBox="0 0 16 16">
                                <path d="M3 0h6a1 1 0 0 1 1 1v1H2V1a1 1 0 0 1 1-1z"/>
                                <path d="M2 2v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2H2z"/>
                                <path d="M4 4h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h8v1H4v-1z"/>
                            </svg>
                            Selected Artifacts
                        </h5>
                    </div>
                    <div class="card-body">
                        <div id="selectedFilesList"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analysis Progress -->
        <div id="analysisSection" class="row mb-4 hidden">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <svg class="icon icon-lg me-2 text-primary" viewBox="0 0 16 16">
                                <path d="M8 3a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H6a.5.5 0 0 1 0-1h1.5V3.5A.5.5 0 0 1 8 3z"/>
                                <path d="M8 8a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H6a.5.5 0 0 1 0-1h1.5V8.5A.5.5 0 0 1 8 8z"/>
                                <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"/>
                                <path d="M1 4h1v1H1V4zm0 2h1v1H1V6zm0 2h1v1H1V8zm0 2h1v1H1v-1zm0 2h1v1H1v-1zm2-2h1v1H3v-1zm0 2h1v1H3v-1zm0 2h1v1H3v-1zm0 2h1v1H3v-1zm2-2h1v1H5v-1zm0 2h1v1H5v-1zm0 2h1v1H5v-1zm0 2h1v1H5v-1zm2-2h1v1H7v-1zm0 2h1v1H7v-1zm0 2h1v1H7v-1zm0 2h1v1H7v-1zm2-2h1v1H9v-1zm0 2h1v1H9v-1zm0 2h1v1H9v-1zm0 2h1v1H9v-1zm2-2h1v1h-1v-1zm0 2h1v1h-1v-1zm0 2h1v1h-1v-1zm0 2h1v1h-1v-1z"/>
                            </svg>
                            AI Analysis in Progress
                        </h5>
                    </div>
                    <div class="card-body text-center">
                        <div class="spinner-border text-primary mb-3" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mb-0">Processing artifacts and extracting insights...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Extracted Insights -->
        <div id="insightsSection" class="row mb-4 hidden">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <svg class="icon icon-lg me-2 text-primary" viewBox="0 0 16 16">
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                            </svg>
                            Extracted Performance Insights
                        </h5>
                    </div>
                    <div class="card-body">
                        <div id="insightsList"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Message -->
        <div id="successSection" class="row mb-4 hidden">
            <div class="col-12">
                <div class="alert alert-success">
                    <h5 class="mb-2">
                        <svg class="icon icon-lg me-2" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.97a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                        </svg>
                        Analysis Complete!
                    </h5>
                    <p class="mb-2">
                        Successfully processed <span id="processedCount">0</span> artifacts and extracted 
                        <span id="insightsCount">0</span> performance insights.
                    </p>
                    <button class="btn btn-primary" onclick="resetUpload()">
                        <svg class="icon icon-lg me-2" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                        </svg>
                        Analyze More Artifacts
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- File Selection Modal -->
    <div id="fileModal" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <svg class="icon icon-lg me-2 text-primary" viewBox="0 0 16 16">
                            <path d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1H1zm7 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>
                            <path d="M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V5z"/>
                        </svg>
                        Select Artifacts to Analyze
                    </h5>
                    <button type="button" class="btn-close" onclick="hideFileModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="grid" id="fileGrid"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="hideFileModal()">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="startAnalysis()">Confirm Selection</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fake files data
        const fakeFiles = [
            {
                id: '1',
                name: 'Q4_Performance_Review_2024.pdf',
                type: 'PDF Document',
                size: '2.4 MB',
                description: 'Quarterly performance review documents for development team'
            },
            {
                id: '2',
                name: 'Sprint_Retrospective_Notes.docx',
                type: 'Word Document',
                size: '156 KB',
                description: 'Agile sprint retrospective notes and action items'
            },
            {
                id: '3',
                name: 'Code_Review_Feedback.csv',
                type: 'CSV File',
                size: '89 KB',
                description: 'Code review feedback and quality metrics'
            },
            {
                id: '4',
                name: 'Project_Delivery_Report.xlsx',
                type: 'Excel Spreadsheet',
                size: '1.2 MB',
                description: 'Project delivery timeline and milestone tracking'
            },
            {
                id: '5',
                name: 'Team_Feedback_Survey.json',
                type: 'JSON File',
                size: '45 KB',
                description: '360-degree feedback survey results'
            },
            {
                id: '6',
                name: 'Technical_Assessment_Results.pdf',
                type: 'PDF Document',
                size: '3.1 MB',
                description: 'Technical skills assessment and competency mapping'
            }
        ];

        // Sample insights
        const sampleInsights = [
            {
                employeeName: 'Pedro Bostos',
                competency: 'Execution',
                insight: 'Demonstrated strong problem-solving skills by identifying and fixing a visual bug on widescreen displays.',
                source: 'Pull Request Review'
            },
            {
                employeeName: 'Pedro Bostos',
                competency: 'Leadership',
                insight: 'Effectively collaborated with team members during the review process, leading to a successful and approved merge.',
                source: 'Pull Request Review'
            },
            {
                employeeName: 'Maria Makiling',
                competency: 'Execution',
                insight: 'Achieved 95% unit test coverage for a new module, demonstrating strong technical execution and a commitment to quality.',
                source: 'Agile Retrospective'
            },
            {
                employeeName: 'Maria Makiling',
                competency: 'Leadership',
                insight: 'Actively participated in the retrospective by agreeing with a teammate\'s concern about the sprint planning process.',
                source: 'Agile Retrospective'
            },
            {
                employeeName: 'Jose Martinez',
                competency: 'Execution',
                insight: 'Proactively identified a significant future risk concerning a deprecated dependency in a third-party library.',
                source: 'Project Management Risk Management'
            },
            {
                employeeName: 'Jose Martinez',
                competency: 'Leadership',
                insight: 'Exhibited strong collaboration and humility by proactively seeking a pairing session to address a complex race condition.',
                source: 'Pull Request Review'
            }
        ];

        let selectedFiles = [];
        let extractedInsights = [];

        function showFileModal() {
            document.getElementById('fileModal').classList.add('show');
            renderFileGrid();
        }

        function hideFileModal() {
            document.getElementById('fileModal').classList.remove('show');
        }

        function renderFileGrid() {
            const grid = document.getElementById('fileGrid');
            grid.innerHTML = fakeFiles.map(file => `
                <div class="file-card ${selectedFiles.find(f => f.id === file.id) ? 'selected' : ''}" 
                     onclick="toggleFileSelection('${file.id}')">
                    <h6 class="mb-2">${file.name}</h6>
                    <p class="text-muted small mb-1">${file.type} â€¢ ${file.size}</p>
                    <p class="text-muted small mb-0">${file.description}</p>
                </div>
            `).join('');
        }

        function toggleFileSelection(fileId) {
            const file = fakeFiles.find(f => f.id === fileId);
            const index = selectedFiles.findIndex(f => f.id === fileId);
            
            if (index > -1) {
                selectedFiles.splice(index, 1);
            } else {
                selectedFiles.push(file);
            }
            
            renderFileGrid();
            updateSelectedFilesSection();
        }

        function updateSelectedFilesSection() {
            const section = document.getElementById('selectedFilesSection');
            const list = document.getElementById('selectedFilesList');
            
            if (selectedFiles.length > 0) {
                section.classList.remove('hidden');
                list.innerHTML = selectedFiles.map(file => `
                    <div class="p-3 border rounded mb-2">
                        <strong>${file.name}</strong><br>
                        <small class="text-muted">${file.type} â€¢ ${file.size}</small><br>
                        <small class="text-muted">${file.description}</small>
                    </div>
                `).join('');
            } else {
                section.classList.add('hidden');
            }
        }

        function startAnalysis() {
            if (selectedFiles.length === 0) {
                alert('Please select at least one file before starting analysis.');
                return;
            }

            hideFileModal();
            document.getElementById('analysisSection').classList.remove('hidden');
            document.getElementById('selectedFilesSection').classList.add('hidden');

            // Simulate AI analysis
            setTimeout(() => {
                document.getElementById('analysisSection').classList.add('hidden');
                
                // Randomly select insights
                const shuffled = [...sampleInsights].sort(() => 0.5 - Math.random());
                extractedInsights = shuffled.slice(0, Math.min(selectedFiles.length * 2, shuffled.length));
                
                showResults();
            }, 3000);
        }

        function showResults() {
            document.getElementById('insightsSection').classList.remove('hidden');
            document.getElementById('successSection').classList.remove('hidden');
            
            document.getElementById('processedCount').textContent = selectedFiles.length;
            document.getElementById('insightsCount').textContent = extractedInsights.length;
            
            const insightsList = document.getElementById('insightsList');
            insightsList.innerHTML = extractedInsights.map(insight => `
                <div class="insight-card">
                    <h6 class="mb-2">
                        <svg class="icon icon-lg me-2 text-primary" viewBox="0 0 16 16">
                            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                        </svg>
                        ${insight.employeeName} - ${insight.competency}
                    </h6>
                    <p class="mb-2">${insight.insight}</p>
                    <p class="insight-source mb-0">
                        <svg class="icon me-1" viewBox="0 0 16 16">
                            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                        </svg>
                        Source: ${insight.source}
                    </p>
                </div>
            `).join('');
        }

        function resetUpload() {
            selectedFiles = [];
            extractedInsights = [];
            
            document.getElementById('selectedFilesSection').classList.add('hidden');
            document.getElementById('analysisSection').classList.add('hidden');
            document.getElementById('insightsSection').classList.add('hidden');
            document.getElementById('successSection').classList.add('hidden');
            
            updateSelectedFilesSection();
        }

        // Initialize
        updateSelectedFilesSection();
    </script>
</body>
</html>
